<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>{{title}}</title>
        <script src="static/js/jquery.js"></script>
        <script src="static/js/rateit/jquery.rateit.min.js"></script>
        <script src="static/js/jquery.modal.min.js"></script>
        <link href="static/js/rateit/rateit.css" rel="stylesheet" type="text/css">
        <link rel="manifest" href="static/manifest.json">
        <link rel="shortcut icon" sizes="500x500" href="static/css/data/Anime-round-min.png">
        <link rel="apple-touch-icon" sizes="500x500" href="static/css/data/Anime-round-min.png">
        <link href="static/css/theme.css" rel="stylesheet" type="text/css">
        <link href="static/css/main.css" rel="stylesheet" type="text/css">
        <link href="static/css/dark.css" rel="stylesheet alternate" type="text/css" id="darkMode">
        <link href="static/css/fontello.css" rel="stylesheet" type="text/css">
        <link href="static/css/jquery.modal.min.css" rel="stylesheet">
        <style>
            .jquery-modal.blocker.current {
                /* Default backdrop is too dark */
                background-color: rgba(0,0,0,0.5);
            }
            .jquery-modal.blocker.current .modal {
                background-color: var(--sheet-background);
            }
        </style>
        
        <!-- iOS startup screen -->
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="static/css/data/slash/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
        
        <script src="static/js/tmdb.js"></script>
        <script src="static/js/main.js"></script>
    </head>
    
    <body>
        <div>
            <div class="search">
                <div class="search__container">
                    <div class="search__bar">
                        <form autocomplete="off">
                            <input type="text" class="search__input" placeholder="搜尋" id="searchInput" autocomplete="off">
                            <span class="focus-border"></span>
                        </form>
                    </div>
                    <div class="search__toggle" onclick="toggleSearchBar()">
                        <div class="magnifier">
                        </div>
                    </div>
                </div>
                <div class="search__result" id="searchResult">
                </div>
            </div>
        </div>
        <div class="warpper"></div>
        <div>
            <div id="animeListContainer">
                <h1>{{title}}</h1>
                <div class="subtitle">{{title_watched}}</div>
                <ol class="animeList" id="list-watched">
                    {% for a in watched %}
                    <li>
                        <a onclick="getInfo(event, {{a.id}})" class="watched {{a._css_class}}" id="id-{{a.id}}" data-watched-time="{{a.watched_time}}">{{a.name}}<span class="remark">{{a.remark if a.remark}}</span></a>
                    </li>
                    {% endfor %}
                </ol>
                <div class="subtitle">{{title_unwatched}}</div>
                <ol class="animeList" id="list-unwatched">
                    {% for a in unwatched %}
                    <li>
                        <a onclick="getInfo(event, {{a.id}})" class="{{a._css_class}}" id="id-{{a.id}}">{{a.name}}<span class="remark">{{a.remark if a.remark}}</span></a>
                    </li>
                    {% endfor %}
                    <a id="addAnime" onclick="_addAnime()">加新動漫</a>
                </ol>
            </div>
        </div>
        <div id="addAnimeFloat" onclick="_addAnime()">
            <div class="plus">+</div>
        </div>
        <div class="dropdown">
            <div class="dropdown__content">
                <div class="dropdown__trigger dropdown__button" onclick="toggleDropdown()">
                    <div class="hamburger">
                        <div class="hamburger__bar1"></div>
                        <div class="hamburger__bar2"></div>
                        <div class="hamburger__bar3"></div>
                    </div>
                </div>
                <div class="dropdown__item dropdown__button" title="Dark Mode">
                    <div onclick="toggleDarkMode()"><i class="icon-moon-inv"></i></div>
                </div>
                <div class="dropdown__item dropdown__button" title="Settings">
                    <div onclick="openSettingModal()"><i class="icon-cog"></i></div>
                </div>
                <div class="dropdown__item dropdown__button" title="Import Data">
                    <a href="{{url_for('import_data')}}"><i class="icon-upload"></i></a>
                </div>
                <div class="dropdown__item dropdown__button" title="Logout">
                    <a href="{{url_for('logout')}}"><i class="icon-logout"></i></a>
                </div>
            </div>
        </div>
        <div class="cover-viewer">
            <img>
        </div>
        <div id="infoPanel" style="display:none;">
            <table class="table">
                <tr>
                    <td colspan="2"><div id="closeButtom" onclick="closeInfoPanel()" class="pointer">關閉</div></td>
                </tr>
                <tr>
                    <td class="td-title">動漫名稱: </td>
                    <td><span id="animeName"></span></td>
                </tr>
                <tr>
                    <td class="td-title"> </td>
                    <td><input id="animeNameCopy"><a onclick="copyNameToClipboard()" class="pointer">複製</a></td>
                </tr>
                <tr>
                    <td class="td-title">動漫編號: </td>
                    <td><span id="animeID"></span></td>
                </tr>
                <tr>
                    <td class="td-title">新增時間: </td>
                    <td><span id="addedTime"></span></td>
                </tr>
                <tr>
                    <td class="td-title">已下載: </td>
                    <td><span id="downloaded"></span></td>
                </tr>
                <tr>
                    <td class="td-title">已觀看: </td>
                    <td><span id="watched"></span></td>
                </tr>
                <tr>
                    <td class="td-title">觀看時間: </td>
                    <td><span id="watchedTime"></span></td>
                </tr>
                <tr>
                    <td class="td-title">估計耗時: </td>
                    <td><span id="estimateTime"></span></td>
                </tr>
                <tr>
                    <td class="td-title">感想: </td>
                    <td><span id="comment"></span></td>
                </tr>
                <tr>
                    <td class="td-title">評分: </td>
                    <td><div id="rating"></div><div id="giveUp" style="display:none;">棄番</div></td>
                </tr>
                <tr>
                    <td class="td-title">備註: </td>
                    <td><span id="remark"></span></td>
                </tr>
                <tr>
                    <td class="td-title">標籤: </td>
                    <td><span id="tags"></span></td>
                </tr>
                <tr>
                    <td class="td-title">網址: </td>
                    <td><span id="url"></span></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div class="center button-container">
                            <span id="view-cover" class="pointer" title="檢視海報"><i class="icon-picture"></i>海報</span>
                            <span id="edit" class="pointer" title="編輯資料"><i class="icon-edit"></i>編輯</span>
                            <span id="markAsWatched" class="pointer" title="標記已看"><i class="icon-bookmark"></i>已看</span>
                            <span id="markAsUnwatched" class="pointer" title="標記未看"><i class="icon-bookmark-empty"></i>未看</span>
                        </div>
                    </td>
                </tr>
                <!--<tr>
                    <td colspan="2" class="center"><span id="view-cover" class="pointer"><i class="icon-picture"></i>檢視海報</span></td>
                </tr>
                <tr>
                    <td colspan="2" class="center"><span id="edit" class="pointer"><i class="icon-edit"></i>編輯資料</span></td>
                </tr>
                <tr>
                    <td colspan="2" class="center">
                        <span id="markAsWatched" class="pointer"><i class="icon-eye"></i>標記已看</span>
                        <span id="markAsUnwatched" class="pointer"><i class="icon-eye-off"></i>標記未看</span>
                    </td>
                </tr>-->
            </table>
        </div>
        <div id="editPanel" style="display:none;">
            <table>
                <tr>
                    <td colspan="2" id="closeButtom" class="center"><span onclick="closeEditPanel()" class="pointer">關閉</span></td>
                </tr>
                <tr>
                    <td>動漫編號: </td> 
                    <td><span id="animeID"></span></td>
                </tr>
                <tr>
                    <td>動漫名稱: </td>
                    <td><input id="animeName"></td>
                </tr>
                <tr>
                    <td>已下載: </td>
                    <td><input id="downloaded" type="checkbox" style="width: initial;"></td>
                </tr>
                <tr>
                    <td style="vertical-align: top;">感想: </td>
                    <td><textarea id="comment" style="resize:none;border-width: 2px;padding: 1px;"></textarea></td>
                </tr>
                <tr>
                    <td>評分: </td>
                    <td><div id="rating"></div></td>
                </tr>
                <tr>
                    <td></td>
                    <td>棄番<input type="checkbox" style="width:initial;" id="giveUp"></td>
                </tr>
                <tr>
                    <td class="td-title">備註: </td>
                    <td><input id="remark"></td>
                </tr>
                <tr>
                    <td class="td-title">標籤: </td>
                    <td><input id="tags"></td>
                </tr>
                <tr>
                    <td>網址: </td>
                    <td><input id="url"></td>
                </tr>
                <tr>
                    <td>新增時間: </td>
                    <td><span id="addedTime"></span></td>
                </tr>
                <tr>
                    <td>已觀看: </td>
                    <td><span id="watched"></span></td>
                </tr>
                <tr>
                    <td>觀看時間: </td>
                    <td><span id="watchedTime"></span></td>
                </tr>
                <tr>
                    <td colspan="2" class="center">
                        <div class="button-container">
                            <span id="deleteButtom" class="pointer red-text"><i class="icon-trash"></i>刪除</span>
                            <span id="saveButtom" class="pointer"><i class="icon-ok"></i>儲存</span>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="modal" id="settings">
            <h3>個人化</h3>
            <p>
                <div class="personal">
                    <div class="personal__item">
                        <span class="personal__item_name">標題</span>
                        <span><input type="text" id="personal_title"></span>
                    </div>
                    <div class="personal__item">
                        <span class="personal__item_name">已觀看清單</span>
                        <span><input type="text" id="personal_watched"></span>
                    </div>
                    <div class="personal__item">
                        <span class="personal__item_name">未觀看清單</span>
                        <span><input type="text" id="personal_unwatched"></span>
                    </div>
                </div>
                <a onclick="saveSetting()" class="pointer"><i class="icon-ok"></i>儲存</a>
            </p>
            <hr>
            <h3>資料</h3>
            <p>
                <a href="{{url_for('import_data')}}" class="pointer"><i class="icon-upload"></i>匯入資料</a>
                <a href="{{url_for('export_data')}}" class="pointer"><i class="icon-download"></i>下載資料</a>
            </p>
            <hr>
            <h3>帳號</h3>
            <p>
                <div>
                    修改密碼
                    <form id="changePassword">
                        <div><input id="password_old" name="password_old" type="password" placeholder="Old Password"></div>
                        <div><input id="password_new" name="password_new" type="password" placeholder="New Password" autocomplete="new-password"></div>
                        <input type="submit" value="Confirm" class="pointer">
                    </form>
                </div>
            </p>
            <hr>
            <p>
                <a onclick="deleteAccount()" class="pointer red-text"><i class="icon-trash"></i>刪除我的帳號</a>
            </p>
        </div>
        <div class="modal" id="deleteAccount">
            <h3 class="red-text">輸入密碼來確認刪除</h3>
            <p>
                <input id="confim-delete-password" type="password">
                <a onclick="confirmDeleteAccount()" class="pointer red-text"><i class="icon-trash"></i>確定刪除</a>
            </p>
        </div>
    </body>
</html>
